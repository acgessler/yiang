texture framebuffer = {FRAMEBUFFER}
float blurSize = 0.0015;
vec2 dir = vec(-0.01,-0.01);

effect
{
   vec4 result = framebuffer(_in);
   float weight = 0.0;

   vec2 start = _in;
   for(int i = 0; i < 16; ++i) {
	start += dir;

	weight += framebuffer(start).a;
   }

   weight /= 16.0;
   _out.rgb = mix( result.rgb*(1.0-weight), result.rgb, length(result.rgb) );
   _out.a = result.a;
}